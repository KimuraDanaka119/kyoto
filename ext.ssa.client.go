package kyoto

var ssaclient = "<script>(()=>{var q=11;function ae(e,r){var t=r.attributes,n,a,d,u,h;if(!(r.nodeType===q||e.nodeType===q)){for(var g=t.length-1;g>=0;g--)n=t[g],a=n.name,d=n.namespaceURI,u=n.value,d?(a=n.localName||a,h=e.getAttributeNS(d,a),h!==u&&(n.prefix===\"xmlns\"&&(a=n.name),e.setAttributeNS(d,a,u))):(h=e.getAttribute(a),h!==u&&e.setAttribute(a,u));for(var v=e.attributes,A=v.length-1;A>=0;A--)n=v[A],a=n.name,d=n.namespaceURI,d?(a=n.localName||a,r.hasAttributeNS(d,a)||e.removeAttributeNS(d,a)):r.hasAttribute(a)||e.removeAttribute(a)}}var R,ie=\"http://www.w3.org/1999/xhtml\",c=typeof document==\"undefined\"?void 0:document,le=!!c&&\"content\"in c.createElement(\"template\"),se=!!c&&c.createRange&&\"createContextualFragment\"in c.createRange();function de(e){var r=c.createElement(\"template\");return r.innerHTML=e,r.content.childNodes[0]}function oe(e){R||(R=c.createRange(),R.selectNode(c.body));var r=R.createContextualFragment(e);return r.childNodes[0]}function ue(e){var r=c.createElement(\"body\");return r.innerHTML=e,r.childNodes[0]}function fe(e){return e=e.trim(),le?de(e):se?oe(e):ue(e)}function P(e,r){var t=e.nodeName,n=r.nodeName,a,d;return t===n?!0:(a=t.charCodeAt(0),d=n.charCodeAt(0),a<=90&&d>=97?t===n.toUpperCase():d<=90&&a>=97?n===t.toUpperCase():!1)}function ce(e,r){return!r||r===ie?c.createElement(e):c.createElementNS(r,e)}function ve(e,r){for(var t=e.firstChild;t;){var n=t.nextSibling;r.appendChild(t),t=n}return r}function G(e,r,t){e[t]!==r[t]&&(e[t]=r[t],e[t]?e.setAttribute(t,\"\"):e.removeAttribute(t))}var z={OPTION:function(e,r){var t=e.parentNode;if(t){var n=t.nodeName.toUpperCase();n===\"OPTGROUP\"&&(t=t.parentNode,n=t&&t.nodeName.toUpperCase()),n===\"SELECT\"&&!t.hasAttribute(\"multiple\")&&(e.hasAttribute(\"selected\")&&!r.selected&&(e.setAttribute(\"selected\",\"selected\"),e.removeAttribute(\"selected\")),t.selectedIndex=-1)}G(e,r,\"selected\")},INPUT:function(e,r){G(e,r,\"checked\"),G(e,r,\"disabled\"),e.value!==r.value&&(e.value=r.value),r.hasAttribute(\"value\")||e.removeAttribute(\"value\")},TEXTAREA:function(e,r){var t=r.value;e.value!==t&&(e.value=t);var n=e.firstChild;if(n){var a=n.nodeValue;if(a==t||!t&&a==e.placeholder)return;n.nodeValue=t}},SELECT:function(e,r){if(!r.hasAttribute(\"multiple\")){for(var t=-1,n=0,a=e.firstChild,d,u;a;)if(u=a.nodeName&&a.nodeName.toUpperCase(),u===\"OPTGROUP\")d=a,a=d.firstChild;else{if(u===\"OPTION\"){if(a.hasAttribute(\"selected\")){t=n;break}n++}a=a.nextSibling,!a&&d&&(a=d.nextSibling,d=null)}e.selectedIndex=t}}},L=1,pe=11,k=3,W=8;function w(){}function he(e){if(e)return e.getAttribute&&e.getAttribute(\"id\")||e.id}function ge(e){return function(t,n,a){if(a||(a={}),typeof n==\"string\")if(t.nodeName===\"#document\"||t.nodeName===\"HTML\"||t.nodeName===\"BODY\"){var d=n;n=c.createElement(\"html\"),n.innerHTML=d}else n=fe(n);var u=a.getNodeKey||he,h=a.onBeforeNodeAdded||w,g=a.onNodeAdded||w,v=a.onBeforeElUpdated||w,A=a.onElUpdated||w,Z=a.onBeforeNodeDiscarded||w,N=a.onNodeDiscarded||w,ee=a.onBeforeElChildrenUpdated||w,B=a.childrenOnly===!0,S=Object.create(null),O=[];function M(s){O.push(s)}function J(s,l){if(s.nodeType===L)for(var i=s.firstChild;i;){var o=void 0;l&&(o=u(i))?M(o):(N(i),i.firstChild&&J(i,l)),i=i.nextSibling}}function x(s,l,i){Z(s)!==!1&&(l&&l.removeChild(s),N(s),J(s,i))}function K(s){if(s.nodeType===L||s.nodeType===pe)for(var l=s.firstChild;l;){var i=u(l);i&&(S[i]=l),K(l),l=l.nextSibling}}K(t);function I(s){g(s);for(var l=s.firstChild;l;){var i=l.nextSibling,o=u(l);if(o){var p=S[o];p&&P(l,p)?(l.parentNode.replaceChild(p,l),H(p,l)):I(l)}else I(l);l=i}}function te(s,l,i){for(;l;){var o=l.nextSibling;(i=u(l))?M(i):x(l,s,!0),l=o}}function H(s,l,i){var o=u(l);o&&delete S[o],!(!i&&(v(s,l)===!1||(e(s,l),A(s),ee(s,l)===!1)))&&(s.nodeName!==\"TEXTAREA\"?re(s,l):z.TEXTAREA(s,l))}function re(s,l){var i=l.firstChild,o=s.firstChild,p,b,y,_,T;e:for(;i;){for(_=i.nextSibling,p=u(i);o;){if(y=o.nextSibling,i.isSameNode&&i.isSameNode(o)){i=_,o=y;continue e}b=u(o);var D=o.nodeType,m=void 0;if(D===i.nodeType&&(D===L?(p?p!==b&&((T=S[p])?y===T?m=!1:(s.insertBefore(T,o),b?M(b):x(o,s,!0),o=T):m=!1):b&&(m=!1),m=m!==!1&&P(o,i),m&&H(o,i)):(D===k||D==W)&&(m=!0,o.nodeValue!==i.nodeValue&&(o.nodeValue=i.nodeValue))),m){i=_,o=y;continue e}b?M(b):x(o,s,!0),o=y}if(p&&(T=S[p])&&P(T,i))s.appendChild(T),H(T,i);else{var $=h(i);$!==!1&&($&&(i=$),i.actualize&&(i=i.actualize(s.ownerDocument||c)),s.appendChild(i),I(i))}i=_,o=y}te(s,o,b);var j=z[s.nodeName];j&&j(s,l)}var f=t,U=f.nodeType,X=n.nodeType;if(!B){if(U===L)X===L?P(t,n)||(N(t),f=ve(t,ce(n.nodeName,n.namespaceURI))):f=n;else if(U===k||U===W){if(X===U)return f.nodeValue!==n.nodeValue&&(f.nodeValue=n.nodeValue),f;f=n}}if(f===n)N(t);else{if(n.isSameNode&&n.isSameNode(f))return;if(H(f,n,B),O)for(var F=0,ne=O.length;F<ne;F++){var V=S[O[F]];V&&x(V,V.parentNode,!1)}}return!B&&f!==t&&t.parentNode&&(f.actualize&&(f=f.actualize(t.ownerDocument||c)),t.parentNode.replaceChild(f,t)),f}}var Ae=ge(ae),Y=Ae;function C(e){let r=e.starter;if(e.id){let t=document.getElementById(e.id);if(!t)throw new Error(`Error while locating root with id: can't find direct with ${e}`);r=t}else{let t=0;for(;;){if(!r.parentElement)throw new Error(`Error while locating root: can't find parent with ${e}`);if(!r.getAttribute(\"state\"))r=r.parentElement;else if(e.depth&&t!=e.depth)r=r.parentElement,t++;else break}}return r}function Q(e){return e=unescape(encodeURIComponent(e)),e=btoa(e),e=e.replaceAll(\"/\",\"-\"),e}function be(e){return e=e.replaceAll(\"-\",\"/\"),e=atob(e),e=decodeURIComponent(escape(e)),e}function Te(e){return e.includes(\":\")&&(e=e.split(\":\")[1]),e.includes(\"$\")&&(e=e.replaceAll(\"$\",\"\")),e}function me(e){e.querySelectorAll(\"[ssa\\\\:oncall\\\\.display]\").forEach(t=>{let n=t.getAttribute(\"ssa:oncall.display\");n!=\"\"&&t.setAttribute(\"style\",\"display: \"+n)})}function we(){document.querySelectorAll(\"[ssa\\\\:onload]\").forEach(e=>{let r=e.getAttribute(\"ssa:onload\");r&&r!=\"\"&&E(e,r)})}function Se(){document.querySelectorAll(\"[ssa\\\\:poll]\").forEach(e=>{let r=e.getAttribute(\"ssa:poll\")||\"\",t=e.getAttribute(\"ssa:poll.interval\");r&&r!=\"\"&&t&&t!=\"\"&&setInterval(()=>{E(e,r)},parseInt(t))})}function ye(){document.querySelectorAll(\"[ssa\\\\:onintersect]\").forEach(e=>{let r=e.getAttribute(\"ssa:onintersect\")||\"\",t=e.getAttribute(\"ssa:onintersect.threshold\")||\"1.0\";r!=\"\"&&new IntersectionObserver(a=>{a.forEach(d=>{d.intersectionRatio>=parseFloat(t)&&E(e,r,parseFloat(t))})},{threshold:parseFloat(t)}).observe(e)})}function E(e,r,...t){return new Promise((n,a)=>{let d=C({starter:e,depth:r.split(\"\").filter(g=>g===\"$\").length,id:r.includes(\":\")?r.split(\":\")[0]:void 0});me(d);let u=ssapath;u+=`/${d.getAttribute(\"name\")}`,u+=`/${d.getAttribute(\"state\")||\"{}\"}`,u+=`/${Te(r)}`,u+=`/${Q(JSON.stringify(t))}`;let h=new EventSource(u);h.onmessage=g=>{let v=g.data;if(!!v){if(v.startsWith(\"ssa:redirect=\")){let A=v.replace(\"ssa:redirect=\",\"\");window.location.href=A;return}if(d.getAttribute(\"ssa:render.mode\")==\"replace\"){d.outerHTML=v;return}try{Y(d,v)}catch(A){console.log(\"Fallback from morphdom to root.outerHTML due to error\",A),d.outerHTML=v}}},h.onerror=g=>{h.close(),n()}})}function Le(e,r){let t=C({starter:e,depth:r.split(\"\").filter(a=>a===\"$\").length,id:r.includes(\":\")?r.split(\":\")[0]:void 0});if(!t.getAttribute(\"state\"))throw new Error(\"Bind call error: component state is underfined\");let n=JSON.parse(be(t.getAttribute(\"state\")));n[r]=e.value,t.setAttribute(\"state\",Q(JSON.stringify(n)))}function Ee(e,r){r.preventDefault();let t=C({starter:e});if(!t.getAttribute(\"state\"))throw new Error(\"Bind call error: component state is underfined\");let n=JSON.parse(atob(t.getAttribute(\"state\"))),a=new FormData(r.target),d=Object.fromEntries(a.entries());return Object.entries(d).forEach(u=>{n[u[0]]=u[1]}),t.setAttribute(\"state\",btoa(JSON.stringify(n).replaceAll(\"/\",\"-\"))),E(t,\"Submit\"),!1}window._LocaleRoot=C;window.Action=E;window.Bind=Le;window.FormSubmit=Ee;document.addEventListener(\"DOMContentLoaded\",we);document.addEventListener(\"DOMContentLoaded\",ye);document.addEventListener(\"DOMContentLoaded\",Se);})();</script>"
